# 梯度与方向导数
引用自[百度知道](https://zhidao.baidu.com/question/126556805.html
)
若有一个二元函数z=f(x, y)，当它由点A移动到点B时（设移动的距离为L），此时函数值z有一个增量M。当L趋于无限小时，若M/L有一个极限值，那么这个极限值就叫做函数在方向AB上的方向导数。
经过点A函数可以朝任意方向移动（当然移动的范围必须在定义域内），函数就有任意多个方向导数，但其中有一个方向上方向导数肯定最大，这个方向就用梯度（grad=ai+bj）这个向量来表示，其中a是函数在x方向上的偏导数，b是函数在y方向上的偏导数，梯度的模就是这个最大方向导数的值。
# Sobel算子
即用两个kernel，与图像进行卷积操作，分别求出在水平方向和垂直方向的导数$Gx,Gy$。
根据两个方向的导数，可以简单的求出梯度值$\sqrt{Gx^2+Gy^2}$
也可以用简单的计算近似值代替 $|Gx|+|Gy|$
当梯度值大于某一个值时，我们认为图像在此处灰度值变化快，此处就是物体边缘。

# OpenCV
在opencv中，我们会分别计算水平和垂直方向的梯度，并求出水平和垂直方向的边缘图像，最后将两张图像合并就是整个图像的边缘图像。
当内核大小为3x3及更大时，使用函数Sobel()会产生明显的误差，Sobel算子只是取了导数的近似值，可以用Scharr()函数代替，但只适用于内核大小为3x3的情况。


